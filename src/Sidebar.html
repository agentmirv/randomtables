<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <?!= HtmlService.createHtmlOutputFromFile('Stylesheet').getContent(); ?>
  </head>
  <body>
    
  <div class="sidebar branding-below">
    <div id="sidebar-load-bar"></div>
    <div id="sidebar-status"></div>
    <div id="sidebar-container"></div>
  </div>

  <div class="sidebar bottom"></div>

  <script id="sidebar-load-bar-template" type="text/x-jsrender">
    <input type="text" id="sidebar-load-url" class="sidebar-load-url" placeholder="Google Sheet URL" data-link="randomTablesUrl">
    <button class="action sidebar-load-button" id="sidebar-load-button" data-link="disabled{:disableButton} {on ~loadUrl}">Load</button>
  </script>

  <script id="sidebar-status-template" type="text/x-jsrender">
    <div data-link="class{merge:isError toggle='error'}">{^{>statusMessage}}</div>
  </script>

  <script id="sidebar-section-template" type="text/x-jsrender">
    {^{for sections}}
      <div class="sidebar-section">
        <div class="sidebar-section-title-bar">
          <span class="sidebar-section-title">
            {^{>name}} <a data-link="href{:url}" target="_blank"> ↗</a>
          </span>
          <span class="sidebar-section-close">✖</span>
        </div>
        <span class="sidebar-section-container">
          {^{for buttons ~buttonUrl=url}}
            <div class="block">
              <button class="action" data-url="{{:~buttonUrl}}" data-id="{{:}}">{{:}}</button>
            </div>
          {{/for}}
        </span>
      </div>
    {{/for}}
  </script>  

  <!-- Use a templated HTML printing scriptlet to import JavaScript -->
  <?!= HtmlService.createHtmlOutputFromFile('SidebarJavaScript').getContent(); ?>

  </body>
</html>
